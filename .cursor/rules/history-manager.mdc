---
description: 
globs: 
alwaysApply: true
---
# Chat History Manager - Cursorçµ±åˆãƒ«ãƒ¼ãƒ«

## ğŸ“‹ åŸºæœ¬æ–¹é‡

### çµ±åˆã®ç›®çš„
- Cursorã®ãƒ­ã‚°ä¿å­˜æ©Ÿèƒ½ã¨Chat History Managerã®åŠ¹æœçš„ãªé€£æº
- é–‹ç™ºå±¥æ­´ã®åŒ…æ‹¬çš„ãªç®¡ç†ã¨åˆ†æ
- ç”Ÿç”£æ€§å‘ä¸Šã¨ãƒŠãƒ¬ãƒƒã‚¸å…±æœ‰ã®ä¿ƒé€²

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- TypeScript 5.3+
- Node.js 18+
- React 19.1+
- Express.js 5.1+
- TailwindCSS 4.1+

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
chat-history-manager/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ChatHistoryService.ts    # ãƒãƒ£ãƒƒãƒˆå±¥æ­´ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ CursorLogService.ts      # Cursorãƒ­ã‚°ç®¡ç†ï¼ˆæ–°è¦ï¼‰
â”‚   â”‚   â””â”€â”€ IntegrationService.ts    # çµ±åˆç®¡ç†ï¼ˆæ–°è¦ï¼‰
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ integration.ts           # çµ±åˆå‹å®šç¾©ï¼ˆæ–°è¦ï¼‰
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ api/
â”‚           â””â”€â”€ integration.ts       # çµ±åˆAPIï¼ˆæ–°è¦ï¼‰
â””â”€â”€ web/
    â””â”€â”€ src/
        â”œâ”€â”€ components/
        â”‚   â””â”€â”€ integration/         # çµ±åˆUIï¼ˆæ–°è¦ï¼‰
        â””â”€â”€ pages/
            â””â”€â”€ dashboard/           # çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼ˆæ–°è¦ï¼‰
```

## ğŸ”„ çµ±åˆæ©Ÿèƒ½

### 1. ãƒ­ã‚°ç›£è¦–ãƒ»åŒæœŸ
- Cursorãƒ­ã‚°ã®è‡ªå‹•ç›£è¦–
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
- ã‚¨ãƒ©ãƒ¼æ¤œå‡ºã¨é€šçŸ¥

### 2. ãƒ‡ãƒ¼ã‚¿çµ±åˆ
- ãƒ­ã‚°ã¨ãƒãƒ£ãƒƒãƒˆå±¥æ­´ã®ç´ä»˜ã‘
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆç®¡ç†
- æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®çµ±åˆ

### 3. åˆ†æãƒ»å¯è¦–åŒ–
- çµ±åˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- æ™‚ç³»åˆ—åˆ†æ
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

### çµ±åˆãƒ‡ãƒ¼ã‚¿å‹
```typescript
interface IntegratedLog {
  id: string;
  timestamp: Date;
  type: 'chat' | 'cursor';
  content: string;
  metadata: {
    project?: string;
    tags?: string[];
    source: string;
  };
  relatedLogs?: string[];  // é–¢é€£ãƒ­ã‚°ã®ID
}
```

## ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ãƒ‡ãƒ¼ã‚¿ä¿è­·
- æ©Ÿå¯†æƒ…å ±ã®è‡ªå‹•ãƒã‚¹ã‚­ãƒ³ã‚°
- ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®å®Ÿè£…
- ç›£æŸ»ãƒ­ã‚°ã®ä¿æŒ

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
- å¾©å…ƒæ©Ÿèƒ½
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

## ğŸ¯ å“è³ªåŸºæº–

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
- APIå¿œç­”æ™‚é–“: < 200ms
- åŒæœŸé…å»¶: < 5ç§’
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: < 500MB

### ä¿¡é ¼æ€§
- ã‚¨ãƒ©ãƒ¼æ¤œå‡ºç‡: 99.9%
- ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§: 100%
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—é »åº¦: 24æ™‚é–“

## ğŸ“ˆ ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ç›£è¦–é …ç›®
- åŒæœŸçŠ¶æ…‹
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿç‡
- ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£

### ã‚¢ãƒ©ãƒ¼ãƒˆ
- åŒæœŸã‚¨ãƒ©ãƒ¼
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä½ä¸‹
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆ

## ğŸš€ é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. åˆæœŸåŒ–
```typescript
const integrationService = new IntegrationService({
  cursor: {
    enabled: true,
    watchPath: '~/.cursor/logs',
    autoImport: true
  },
  chatHistory: {
    storagePath: '~/.chat-history',
    maxSessions: 1000
  }
});
```

### 2. åŒæœŸå‡¦ç†
```typescript
await integrationService.startSync({
  interval: 300,  // 5åˆ†
  batchSize: 100,
  retryAttempts: 3
});
```

### 3. æ¤œç´¢
```typescript
const results = await integrationService.search({
  query: 'error',
  timeRange: {
    start: new Date('2024-01-01'),
    end: new Date()
  },
  types: ['chat', 'cursor']
});
```

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### å¿…é ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
1. çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸
2. APIä»•æ§˜æ›¸
3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
4. é‹ç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«

### ã‚³ãƒ¼ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- ã™ã¹ã¦ã®å…¬é–‹APIã«JSDoc
- è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã«ã‚³ãƒ¡ãƒ³ãƒˆ
- å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²

## ğŸ”„ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### å®šæœŸã‚¿ã‚¹ã‚¯
- ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¤œè¨¼

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- ã‚¨ãƒ©ãƒ¼è¨ºæ–­ãƒ•ãƒ­ãƒ¼
- å¾©æ—§æ‰‹é †
- ã‚µãƒãƒ¼ãƒˆé€£çµ¡å…ˆ

---

**æœ€çµ‚æ›´æ–°**: 2024/01/15  
**æ¬¡å›è¦‹ç›´ã—äºˆå®š**: 2024/02/15
